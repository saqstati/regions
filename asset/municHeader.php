<?php
$current_page = basename($_SERVER['PHP_SELF']); // Get the current page name

if ($current_page == 'qeda.php') {
    $page_title = $lang['kedatitlename'];
} elseif ($current_page == 'batumi.php') {
    $page_title = $lang['batumititlename'];
} elseif ($current_page == 'qobuleti.php') {
    $page_title = $lang['kobuletititlename'];
} elseif ($current_page == 'xelvachauri.php') {
    $page_title = $lang['khelvachaurititlename'];
} elseif ($current_page == 'shuaxevi.php') {
    $page_title = $lang['shuakhevititlename'];
} elseif ($current_page == 'xulo.php') {
    $page_title = $lang['khulotitlename'];
} elseif ($current_page == 'lanchxuti.php') {
    $page_title = $lang['lanchkhutititlename'];
} elseif ($current_page == 'ozurgeti.php') {
    $page_title = $lang['ozurgetititlename'];
} elseif ($current_page == 'choxatauri.php') {
    $page_title = $lang['chokhataurititlename'];
} elseif ($current_page == 'khoni.php') {
    $page_title = $lang['khonititlename'];
} elseif ($current_page == 'bagdadi.php') {
    $page_title = $lang['baghdadititlename'];
} elseif ($current_page == 'chiatura.php') {
    $page_title = $lang['chiaturatitlename'];
} elseif ($current_page == 'kutaisi.php') {
    $page_title = $lang['kutaisititlename'];
} elseif ($current_page == 'sachxere.php') {
    $page_title = $lang['sachkheretitlename'];
} elseif ($current_page == 'samtredia.php') {
    $page_title = $lang['samtrediatitlename'];
} elseif ($current_page == 'terjola.php') {
    $page_title = $lang['terjolatitlename'];
} elseif ($current_page == 'tyibuli.php') {
    $page_title = $lang['tkibulititlename'];
} elseif ($current_page == 'vani.php') {
    $page_title = $lang['vanititlename'];
} elseif ($current_page == 'wyaltubo.php') {
    $page_title = $lang['tskaltubotitlename'];
} elseif ($current_page == 'xaragauli.php') {
    $page_title = $lang['kharagaulititlename'];
} elseif ($current_page == 'zestafoni.php') {
    $page_title = $lang['zestaponititlename'];
} elseif ($current_page == 'adigeni.php') {
    $page_title = $lang['adigenititlename'];
} elseif ($current_page == 'aspindza.php') {
    $page_title = $lang['aspindzatitlename'];
} elseif ($current_page == 'axalcixe.php') {
    $page_title = $lang['akhaltsikhetitlename'];
} elseif ($current_page == 'axalqalaqi.php') {
    $page_title = $lang['akhalkalakititlename'];
} elseif ($current_page == 'borjomi.php') {
    $page_title = $lang['borjomititlename'];
} elseif ($current_page == 'ninowminda.php') {
    $page_title = $lang['ninotsmindatitlename'];
} elseif ($current_page == 'axmeta.php') {
    $page_title = $lang['akhmetatitlename'];
} elseif ($current_page == 'dedofliswyaro.php') {
    $page_title = $lang['dedoplistskarotitlename'];
} elseif ($current_page == 'gurjaani.php') {
    $page_title = $lang['gurjaanititlename'];
} elseif ($current_page == 'lagodexi.php') {
    $page_title = $lang['lagodekhititlename'];
} elseif ($current_page == 'sagarejo.php') {
    $page_title = $lang['sagarejotitlename'];
} elseif ($current_page == 'signagi.php') {
    $page_title = $lang['sighnaghititlename'];
} elseif ($current_page == 'telavi.php') {
    $page_title = $lang['telavititlename'];
} elseif ($current_page == 'yvareli.php') {
    $page_title = $lang['kvarelititlename'];
} elseif ($current_page == 'dusheti.php') {
    $page_title = $lang['dushetititlename'];
} elseif ($current_page == 'mcxeta.php') {
    $page_title = $lang['mtskhetatitlename'];
} elseif ($current_page == 'tianeti.php') {
    $page_title = $lang['tianetititlename'];
} elseif ($current_page == 'yazbegi.php') {
    $page_title = $lang['kazbegititlename'];
} elseif ($current_page == 'bolnisi.php') {
    $page_title = $lang['bolnisititlename'];
} elseif ($current_page == 'dmanisi.php') {
    $page_title = $lang['dmanisititlename'];
} elseif ($current_page == 'gardabani.php') {
    $page_title = $lang['gardabanititlename'];
} elseif ($current_page == 'marneuli.php') {
    $page_title = $lang['marneulititlename'];
} elseif ($current_page == 'rustavi.php') {
    $page_title = $lang['rustavititlename'];
} elseif ($current_page == 'tetriwyaro.php') {
    $page_title = $lang['tetritskarotitlename'];
} elseif ($current_page == 'walka.php') {
    $page_title = $lang['tsalkatitlename'];
} elseif ($current_page == 'ambrolauri.php') {
    $page_title = $lang['ambrolaurititlename'];
} elseif ($current_page == 'cageri.php') {
    $page_title = $lang['tsagerititlename'];
} elseif ($current_page == 'oni.php') {
    $page_title = $lang['onititlename'];
} elseif ($current_page == 'lentexi.php') {
    $page_title = $lang['lentekhititlename'];
} elseif ($current_page == 'abasha.php') {
    $page_title = $lang['abashatitlename'];
} elseif ($current_page == 'chxorowyu.php') {
    $page_title = $lang['chkhorotskutitlename'];
} elseif ($current_page == 'martvili.php') {
    $page_title = $lang['martvilititlename'];
} elseif ($current_page == 'mestia.php') {
    $page_title = $lang['mestiatitlename'];
} elseif ($current_page == 'poti.php') {
    $page_title = $lang['potititlename'];
} elseif ($current_page == 'senaki.php') {
    $page_title = $lang['senakititlename'];
} elseif ($current_page == 'walenjixa.php') {
    $page_title = $lang['tsalenjikhatitlename'];
} elseif ($current_page == 'xobi.php') {
    $page_title = $lang['khobititlename'];
} elseif ($current_page == 'zugdidi.php') {
    $page_title = $lang['zugdidititlename'];
} elseif ($current_page == 'gori.php') {
    $page_title = $lang['gorititlename'];
} elseif ($current_page == 'kaspi.php') {
    $page_title = $lang['kaspititlename'];
} elseif ($current_page == 'qareli.php') {
    $page_title = $lang['karelititlename'];
} elseif ($current_page == 'xashuri.php') {
    $page_title = $lang['khashurititlename'];
}

// Determine the language URLs based on the current page
if ($current_page == 'qeda.php') {
    $lang_url_ka = 'qeda.php?lang=ka';
    $lang_url_en = 'qeda.php?lang=en';
} elseif ($current_page == 'batumi.php') {
    $lang_url_ka = 'batumi.php?lang=ka';
    $lang_url_en = 'batumi.php?lang=en';
} elseif ($current_page == 'qobuleti.php') {
    $lang_url_ka = 'qobuleti.php?lang=ka';
    $lang_url_en = 'qobuleti.php?lang=en';
} elseif ($current_page == 'xelvachauri.php') {
    $lang_url_ka = 'xelvachauri.php?lang=ka';
    $lang_url_en = 'xelvachauri.php?lang=en';
} elseif ($current_page == 'shuaxevi.php') {
    $lang_url_ka = 'shuaxevi.php?lang=ka';
    $lang_url_en = 'shuaxevi.php?lang=en';
} elseif ($current_page == 'xulo.php') {
    $lang_url_ka = 'xulo.php?lang=ka';
    $lang_url_en = 'xulo.php?lang=en';
} elseif ($current_page == 'lanchxuti.php') {
    $lang_url_ka = 'lanchxuti.php?lang=ka';
    $lang_url_en = 'lanchxuti.php?lang=en';
} elseif ($current_page == 'ozurgeti.php') {
    $lang_url_ka = 'ozurgeti.php?lang=ka';
    $lang_url_en = 'ozurgeti.php?lang=en';
} elseif ($current_page == 'choxatauri.php') {
    $lang_url_ka = 'choxatauri.php?lang=ka';
    $lang_url_en = 'choxatauri.php?lang=en';
} elseif ($current_page == 'khoni.php') {
    $lang_url_ka = 'khoni.php?lang=ka';
    $lang_url_en = 'khoni.php?lang=en';
} elseif ($current_page == 'bagdadi.php') {
    $lang_url_ka = 'bagdadi.php?lang=ka';
    $lang_url_en = 'bagdadi.php?lang=en';
} elseif ($current_page == 'chiatura.php') {
    $lang_url_ka = 'chiatura.php?lang=ka';
    $lang_url_en = 'chiatura.php?lang=en';
} elseif ($current_page == 'kutaisi.php') {
    $lang_url_ka = 'kutaisi.php?lang=ka';
    $lang_url_en = 'kutaisi.php?lang=en';
} elseif ($current_page == 'sachxere.php') {
    $lang_url_ka = 'sachxere.php?lang=ka';
    $lang_url_en = 'sachxere.php?lang=en';
} elseif ($current_page == 'samtredia.php') {
    $lang_url_ka = 'samtredia.php?lang=ka';
    $lang_url_en = 'samtredia.php?lang=en';
} elseif ($current_page == 'terjola.php') {
    $lang_url_ka = 'terjola.php?lang=ka';
    $lang_url_en = 'terjola.php?lang=en';
} elseif ($current_page == 'tyibuli.php') {
    $lang_url_ka = 'tyibuli.php?lang=ka';
    $lang_url_en = 'tyibuli.php?lang=en';
} elseif ($current_page == 'vani.php') {
    $lang_url_ka = 'vani.php?lang=ka';
    $lang_url_en = 'vani.php?lang=en';
} elseif ($current_page == 'wyaltubo.php') {
    $lang_url_ka = 'wyaltubo.php?lang=ka';
    $lang_url_en = 'wyaltubo.php?lang=en';
} elseif ($current_page == 'xaragauli.php') {
    $lang_url_ka = 'xaragauli.php?lang=ka';
    $lang_url_en = 'xaragauli.php?lang=en';
} elseif ($current_page == 'zestafoni.php') {
    $lang_url_ka = 'zestafoni.php?lang=ka';
    $lang_url_en = 'zestafoni.php?lang=en';
} elseif ($current_page == 'adigeni.php') {
    $lang_url_ka = 'adigeni.php?lang=ka';
    $lang_url_en = 'adigeni.php?lang=en';
} elseif ($current_page == 'aspindza.php') {
    $lang_url_ka = 'aspindza.php?lang=ka';
    $lang_url_en = 'aspindza.php?lang=en';
} elseif ($current_page == 'axalcixe.php') {
    $lang_url_ka = 'axalcixe.php?lang=ka';
    $lang_url_en = 'axalcixe.php?lang=en';
} elseif ($current_page == 'axalqalaqi.php') {
    $lang_url_ka = 'axalqalaqi.php?lang=ka';
    $lang_url_en = 'axalqalaqi.php?lang=en';
} elseif ($current_page == 'borjomi.php') {
    $lang_url_ka = 'borjomi.php?lang=ka';
    $lang_url_en = 'borjomi.php?lang=en';
} elseif ($current_page == 'ninowminda.php') {
    $lang_url_ka = 'ninowminda.php?lang=ka';
    $lang_url_en = 'ninowminda.php?lang=en';
} elseif ($current_page == 'axmeta.php') {
    $lang_url_ka = 'axmeta.php?lang=ka';
    $lang_url_en = 'axmeta.php?lang=en';
} elseif ($current_page == 'dedofliswyaro.php') {
    $lang_url_ka = 'dedofliswyaro.php?lang=ka';
    $lang_url_en = 'dedofliswyaro.php?lang=en';
} elseif ($current_page == 'gurjaani.php') {
    $lang_url_ka = 'gurjaani.php?lang=ka';
    $lang_url_en = 'gurjaani.php?lang=en';
} elseif ($current_page == 'lagodexi.php') {
    $lang_url_ka = 'lagodexi.php?lang=ka';
    $lang_url_en = 'lagodexi.php?lang=en';
} elseif ($current_page == 'sagarejo.php') {
    $lang_url_ka = 'sagarejo.php?lang=ka';
    $lang_url_en = 'sagarejo.php?lang=en';
} elseif ($current_page == 'signagi.php') {
    $lang_url_ka = 'signagi.php?lang=ka';
    $lang_url_en = 'signagi.php?lang=en';
} elseif ($current_page == 'telavi.php') {
    $lang_url_ka = 'telavi.php?lang=ka';
    $lang_url_en = 'telavi.php?lang=en';
} elseif ($current_page == 'yvareli.php') {
    $lang_url_ka = 'yvareli.php?lang=ka';
    $lang_url_en = 'yvareli.php?lang=en';
} elseif ($current_page == 'dusheti.php') {
    $lang_url_ka = 'dusheti.php?lang=ka';
    $lang_url_en = 'dusheti.php?lang=en';
} elseif ($current_page == 'mcxeta.php') {
    $lang_url_ka = 'mcxeta.php?lang=ka';
    $lang_url_en = 'mcxeta.php?lang=en';
} elseif ($current_page == 'tianeti.php') {
    $lang_url_ka = 'tianeti.php?lang=ka';
    $lang_url_en = 'tianeti.php?lang=en';
} elseif ($current_page == 'yazbegi.php') {
    $lang_url_ka = 'yazbegi.php?lang=ka';
    $lang_url_en = 'yazbegi.php?lang=en';
} elseif ($current_page == 'bolnisi.php') {
    $lang_url_ka = 'bolnisi.php?lang=ka';
    $lang_url_en = 'bolnisi.php?lang=en';
} elseif ($current_page == 'dmanisi.php') {
    $lang_url_ka = 'dmanisi.php?lang=ka';
    $lang_url_en = 'dmanisi.php?lang=en';
} elseif ($current_page == 'gardabani.php') {
    $lang_url_ka = 'gardabani.php?lang=ka';
    $lang_url_en = 'gardabani.php?lang=en';
} elseif ($current_page == 'marneuli.php') {
    $lang_url_ka = 'marneuli.php?lang=ka';
    $lang_url_en = 'marneuli.php?lang=en';
} elseif ($current_page == 'rustavi.php') {
    $lang_url_ka = 'rustavi.php?lang=ka';
    $lang_url_en = 'rustavi.php?lang=en';
} elseif ($current_page == 'tetriwyaro.php') {
    $lang_url_ka = 'tetriwyaro.php?lang=ka';
    $lang_url_en = 'tetriwyaro.php?lang=en';
} elseif ($current_page == 'walka.php') {
    $lang_url_ka = 'walka.php?lang=ka';
    $lang_url_en = 'walka.php?lang=en';
} elseif ($current_page == 'ambrolauri.php') {
    $lang_url_ka = 'ambrolauri.php?lang=ka';
    $lang_url_en = 'ambrolauri.php?lang=en';
} elseif ($current_page == 'cageri.php') {
    $lang_url_ka = 'cageri.php?lang=ka';
    $lang_url_en = 'cageri.php?lang=en';
} elseif ($current_page == 'lentexi.php') {
    $lang_url_ka = 'lentexi.php?lang=ka';
    $lang_url_en = 'lentexi.php?lang=en';
} elseif ($current_page == 'oni.php') {
    $lang_url_ka = 'oni.php?lang=ka';
    $lang_url_en = 'oni.php?lang=en';
} elseif ($current_page == 'abasha.php') {
    $lang_url_ka = 'abasha.php?lang=ka';
    $lang_url_en = 'abasha.php?lang=en';
} elseif ($current_page == 'chxorowyu.php') {
    $lang_url_ka = 'chxorowyu.php?lang=ka';
    $lang_url_en = 'chxorowyu.php?lang=en';
} elseif ($current_page == 'martvili.php') {
    $lang_url_ka = 'martvili.php?lang=ka';
    $lang_url_en = 'martvili.php?lang=en';
} elseif ($current_page == 'mestia.php') {
    $lang_url_ka = 'mestia.php?lang=ka';
    $lang_url_en = 'mestia.php?lang=en';
} elseif ($current_page == 'poti.php') {
    $lang_url_ka = 'poti.php?lang=ka';
    $lang_url_en = 'poti.php?lang=en';
} elseif ($current_page == 'senaki.php') {
    $lang_url_ka = 'senaki.php?lang=ka';
    $lang_url_en = 'senaki.php?lang=en';
} elseif ($current_page == 'walenjixa.php') {
    $lang_url_ka = 'walenjixa.php?lang=ka';
    $lang_url_en = 'walenjixa.php?lang=en';
} elseif ($current_page == 'xobi.php') {
    $lang_url_ka = 'xobi.php?lang=ka';
    $lang_url_en = 'xobi.php?lang=en';
} elseif ($current_page == 'zugdidi.php') {
    $lang_url_ka = 'zugdidi.php?lang=ka';
    $lang_url_en = 'zugdidi.php?lang=en';
} elseif ($current_page == 'gori.php') {
    $lang_url_ka = 'gori.php?lang=ka';
    $lang_url_en = 'gori.php?lang=en';
} elseif ($current_page == 'kaspi.php') {
    $lang_url_ka = 'kaspi.php?lang=ka';
    $lang_url_en = 'kaspi.php?lang=en';
} elseif ($current_page == 'qareli.php') {
    $lang_url_ka = 'qareli.php?lang=ka';
    $lang_url_en = 'qareli.php?lang=en';
} elseif ($current_page == 'xashuri.php') {
    $lang_url_ka = 'xashuri.php?lang=ka';
    $lang_url_en = 'xashuri.php?lang=en';
} else {
    // Fallback to default (batumi.php) in case the page isn't matched
    $lang_url_ka = 'batumi.php?lang=ka';
    $lang_url_en = 'batumi.php?lang=en';
}
?>

<div class="container-fluid">
    <div class="d-flex flex-column flex-md-row align-items-center justify-content-between mb-4">
        <!-- Brand Logo on the left -->
        <div id="brand-logo" class="me-3 mb-2 mb-md-0">
            <a href="../index.php" id="brand-logo-link">
                <img src="<?php echo (isset($_GET['lang']) && $_GET['lang'] == 'en') ? '../images/logo_transparency_eng.png' : '../images/logo_transparency_geo.png'; ?>"
                    alt="Brand Logo"
                    class="img-fluid"
                    style="width: 80px; height: auto;" />
            </a>
        </div>

        <!-- Page Title centered, with responsive text size and wrap control -->
        <h1 id="pagetitlename" class="tr mx-auto text-center text-md-nowrap mb-2 mb-md-0" key="REGION14" style="flex-grow: 1; font-size: 1.5rem;">
            <?php echo $page_title; ?>
        </h1>

        <!-- Languages on the right -->
        <div id="languages" class="d-flex justify-content-center justify-content-md-end">
            <a href="<?php echo $lang_url_ka; ?>" id="ka" class="lang me-2">
                <img src="../images/ka.png" alt="Georgian Language" class="img-fluid" style="width: 20px; height: auto;" />
            </a>
            <a href="<?php echo $lang_url_en; ?>" id="en" class="lang">
                <img src="../images/en.png" alt="English Language" class="img-fluid" style="width: 20px; height: auto;" />
            </a>
        </div>
    </div>
</div>

<div class="container-fluid">
    <div class="d-flex flex-column flex-md-row justify-content-between align-items-center mb-3">
        <!-- Back Button on the left -->
        <div class="mb-2 mb-md-0">
            <a class="btn header-btn" onclick="previous()">
                <span class="tr" key="backBtn">
                    <?php echo (isset($_GET['lang']) && $_GET['lang'] == 'en') ? 'Back' : 'უკან დაბრუნება'; ?>
                </span>
            </a>
        </div>

        <!-- Navigation Links with responsive wrapping -->
        <div class="d-flex flex-wrap justify-content-center justify-content-md-end">
            <a class="btn header-btn me-2 mb-2" href="<?php echo (isset($_GET['lang']) && $_GET['lang'] == 'en') ? '../comparison/regionComp.php?lang=en' : '../comparison/regionComp.php?lang=ka'; ?>">
                <span class="tr" key="regionsBtn">
                    <?php echo (isset($_GET['lang']) && $_GET['lang'] == 'en') ? 'Comparison of Regions' : 'რეგიონების შედარება'; ?>
                </span>
            </a>

            <a class="btn header-btn me-2 mb-2" href="<?php echo (isset($_GET['lang']) && $_GET['lang'] == 'en') ? '../comparison/municipalComp.php?lang=en' : '../comparison/municipalComp.php?lang=ka'; ?>">
                <span class="tr" key="regionsBtn">
                    <?php echo (isset($_GET['lang']) && $_GET['lang'] == 'en') ? 'Comparison of Municipalities' : 'მუნიციპალიტეტების შედარება'; ?>
                </span>
            </a>

            <a class="btn header-btn mb-2" href="<?php echo (isset($_GET['lang']) && $_GET['lang'] == 'en') ? '../genders/genders.php?lang=en' : '../genders/genders.php?lang=ka'; ?>">
                <span class="tr" key="regionsBtn">
                    <?php echo (isset($_GET['lang']) && $_GET['lang'] == 'en') ? 'Gender Statistics' : 'გენდერული სტატისტიკა'; ?>
                </span>
            </a>
        </div>
    </div>
</div>

<style>
    /* Additional Styles for Responsive Municipal Header */
    @media (max-width: 768px) {
        #pagetitlename {
            font-size: 1.2rem;
        }

        #languages img {
            width: 18px;
        }

        .header-btn {
            font-size: 0.9rem;
            padding: 0.5rem 0.75rem;
        }
    }

    @media (max-width: 576px) {
        #pagetitlename {
            font-size: 1rem;
            padding: 0.25rem 0;
        }

        .header-btn {
            font-size: 0.8rem;
            padding: 0.4rem 0.6rem;
        }
    }
</style>